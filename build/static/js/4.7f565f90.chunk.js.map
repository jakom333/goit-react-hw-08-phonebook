{"version":3,"sources":["components/contactForm/ContactForm.module.css","components/ContactsItem/ContactsItem.module.css","components/filter/Filter.module.css","views/Contacts/Contacts.module.css","redux/phonebook/phonebook-operations.js","redux/phonebook/phonebook-selectors.js","components/contactForm/ContactForm.js","components/ContactsItem/ContactsItem.js","components/filter/Filter.js","views/Contacts/Contacts.jsx"],"names":["module","exports","name","number","dispatch","contact","addContactRequest","axios","post","then","data","addContactSuccess","catch","error","addContactError","message","id","deleteContactRequest","delete","deleteContactSuccess","deleteContactError","a","fetchContactsRequest","get","fetchContactsSuccess","fetchContactsError","getFiltered","state","contacts","filter","getAllContacts","items","getLoading","loading","getErrorMessage","getFilteredContacts","createSelector","normalizedFilter","toLowerCase","item","includes","initialState","ContactForm","useState","user","setUser","useSelector","contactsSelectors","useDispatch","handleChange","e","target","value","className","form","onSubmit","preventDefault","find","alert","contactsOperations","inputTitle","form_input","type","onChange","button","ContactsItem","filtered","map","contactItem","delete_button","onClick","Filter","changeFilter","inputForm","Contacts","isLoadingContacts","isContactIncludes","length","useEffect","container","formTitle","color","height","width","contactsCont","contactsList"],"mappings":"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","file":"static/js/4.7f565f90.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ContactForm_form__2IUqW\",\"form_input\":\"ContactForm_form_input__uuy4X\",\"button\":\"ContactForm_button__1xr6L\",\"inputTitle\":\"ContactForm_inputTitle__3x3jV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"delete_button\":\"ContactsItem_delete_button__3oVq5\",\"contactItem\":\"ContactsItem_contactItem__2wpSs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputForm\":\"Filter_inputForm__1kcos\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Contacts_container__1V4Nm\",\"formTitle\":\"Contacts_formTitle__fWn7N\",\"contactsCont\":\"Contacts_contactsCont__Tda6Q\",\"contactsList\":\"Contacts_contactsList__3d_04\"};","import axios from 'axios';\nimport {\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactError,\n  deleteContactSuccess,\n  fetchContactsError,\n  fetchContactsRequest,\n  fetchContactsSuccess,\n} from './phonebook-actions';\n\nconst fetchContacts = () => async dispatch => {\n  dispatch(fetchContactsRequest());\n\n  try {\n    const { data } = await axios.get('/contacts');\n    dispatch(fetchContactsSuccess(data));\n  } catch (error) {\n    dispatch(fetchContactsError(error.message));\n  }\n};\n\nconst addContact = ({ name, number }) => dispatch => {\n  const contact = {\n    name,\n    number,\n  };\n\n  dispatch(addContactRequest());\n\n  axios\n    .post('/contacts', contact)\n    .then(({ data }) => dispatch(addContactSuccess(data)))\n    .catch(error => dispatch(addContactError(error.message)));\n};\n\nconst deleteContact = id => dispatch => {\n  dispatch(deleteContactRequest());\n\n  axios\n    .delete(`/contacts/${id}`)\n    .then(() => dispatch(deleteContactSuccess(id)))\n    .catch(error => dispatch(deleteContactError(error.message)));\n};\n\nexport default { addContact, deleteContact, fetchContacts };\n","import { createSelector } from '@reduxjs/toolkit';\n\nconst getLoading = state => state.contacts.loading;\n\nconst getFiltered = state => state.contacts.filter;\n\nconst getAllContacts = state => state.contacts.items;\n\nconst getErrorMessage = state => state.contacts.error;\n\nconst getFilteredContacts = createSelector(\n  [getAllContacts, getFiltered],\n  (contacts, filter) => {\n    const normalizedFilter = filter.toLowerCase();\n    return contacts.filter(item =>\n      item.name.toLowerCase().includes(normalizedFilter),\n    );\n  },\n);\n\nexport default {\n  getLoading,\n  getFiltered,\n  getAllContacts,\n  getErrorMessage,\n  getFilteredContacts,\n};\n","import React, { useState } from 'react';\nimport { form, button, form_input, inputTitle } from './ContactForm.module.css';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { contactsOperations, contactsSelectors } from '../../redux/phonebook';\n\nconst initialState = {\n  name: '',\n  number: '',\n};\n\nconst ContactForm = () => {\n  const [user, setUser] = useState(initialState);\n\n  const contacts = useSelector(contactsSelectors.getAllContacts);\n\n  const dispatch = useDispatch();\n\n  const handleChange = e => {\n    setUser({\n      ...user,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const onHandleSubmit = e => {\n    e.preventDefault();\n    const found = contacts.find(item => {\n      return item.name === user.name || item.number === user.number;\n    });\n    if (found) {\n      alert('Такой контакт уже есть!');\n      return;\n    }\n    dispatch(contactsOperations.addContact(user));\n    setUser(initialState);\n  };\n\n  return (\n    <form className={form} onSubmit={onHandleSubmit}>\n      <h4 className={inputTitle}>Name</h4>\n      <input\n        className={form_input}\n        type=\"text\"\n        name=\"name\"\n        value={user.name}\n        onChange={handleChange}\n      ></input>\n      <h4 className={inputTitle}>Number</h4>\n      <input\n        className={form_input}\n        type=\"number\"\n        name=\"number\"\n        value={user.number}\n        onChange={handleChange}\n      ></input>\n      <button type=\"submit\" className={button}>\n        Add contact\n      </button>\n    </form>\n  );\n};\n\nexport default ContactForm;\n","import React from 'react';\nimport { delete_button, contactItem } from './ContactsItem.module.css';\nimport { useDispatch } from 'react-redux';\nimport { contactsOperations } from '../../redux/phonebook';\n\nconst ContactsItem = ({ filtered }) => {\n  const dispatch = useDispatch();\n\n  return filtered.map(({ name, number, id }) => {\n    return (\n      <li key={id} name={name} className={contactItem}>\n        <p>name: {name}</p>\n        <p>tel.: {number}</p>\n        <button\n          type=\"button\"\n          className={delete_button}\n          onClick={() => dispatch(contactsOperations.deleteContact(id))}\n        ></button>\n      </li>\n    );\n  });\n};\n\nexport default ContactsItem;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { changeFilter } from '../../redux/phonebook/phonebook-actions';\nimport { contactsSelectors } from '../../redux/phonebook';\nimport { inputForm } from './Filter.module.css';\n\nconst Filter = () => {\n  const dispatch = useDispatch();\n  const value = useSelector(contactsSelectors.getFiltered);\n\n  return (\n    <>\n      <p>Find contacts by name</p>\n      <input\n        type=\"text\"\n        name=\"filter\"\n        value={value}\n        onChange={e => dispatch(changeFilter(e.target.value))}\n        className={inputForm}\n      ></input>\n    </>\n  );\n};\n\nexport default Filter;\n","import React, { useEffect } from 'react';\nimport Loader from 'react-loader-spinner';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ContactForm from '../../components/contactForm/ContactForm';\nimport ContactsItem from '../../components/ContactsItem/ContactsItem';\nimport Filter from '../../components/filter/Filter';\nimport { contactsSelectors, contactsOperations } from '../../redux/phonebook';\nimport {\n  container,\n  formTitle,\n  contactsCont,\n  contactsList,\n} from './Contacts.module.css';\n\nconst Contacts = () => {\n  const contacts = useSelector(contactsSelectors.getFilteredContacts);\n  const isLoadingContacts = useSelector(contactsSelectors.getLoading);\n  const error = useSelector(contactsSelectors.getErrorMessage);\n  const isContactIncludes = useSelector(\n    state => state.contacts.items.length > 0,\n  );\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(contactsOperations.fetchContacts());\n  }, [dispatch]);\n\n  return (\n    <div className={container}>\n      <h2 className={formTitle}>Phonebook</h2>\n      <ContactForm />\n      {error && <p className=\"error-message\">{error}</p>}\n      {isLoadingContacts && (\n        <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n      )}\n      {isContactIncludes && (\n        <div className={contactsCont}>\n          <h2 className={formTitle}>Contacts</h2>\n          <Filter />\n          <ul className={contactsList}>\n            <ContactsItem filtered={contacts} />\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Contacts;\n"],"sourceRoot":""}