{"version":3,"sources":["components/authNav/AuthNav.module.css","components/navigation/Navigation.module.css","components/userMenu/UserMenu.module.css","components/appBar/AppBar.module.css","components/Container/Container.module.css","components/MainContainer/MainContainer.module.css","redux/phonebook/phonebook-actions.js","components/authNav/AuthNav.jsx","components/navigation/Navigation.jsx","images/avatar.jpg","components/userMenu/UserMenu.jsx","components/appBar/AppBar.js","components/PrivateRoute.js","components/PublicRoute.js","components/Container/Container.jsx","components/MainContainer/MainContainer.jsx","App.js","redux/phonebook/phonebook-reducer.js","redux/store.js","index.js","redux/auth/auth-actions.js","redux/auth/auth-reducer.js","redux/auth/auth-operations.js","redux/auth/auth-selectors.js"],"names":["module","exports","fetchContactsRequest","createAction","fetchContactsSuccess","fetchContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","AuthNav","to","exact","className","navLink","activeClassName","activeNavLink","Navigation","isAuthenticated","useSelector","authSelectors","getIsAuthenticated","UserMenu","name","getUsername","dispatch","useDispatch","onLogOut","useCallback","authOperations","logOut","usermenuCont","src","defaultAvatar","alt","width","avatarImg","userName","type","onClick","logoutBtn","AppBar","header","PrivateRoute","Component","component","redirectTo","routeProps","render","props","PublicRoute","restricted","Container","children","ContainerPage","mainContainer","HomePage","lazy","Contacts","Register","Login","App","useEffect","getCurrentUser","fallback","MainContainer","path","items","createReducer","_","action","payload","state","index","findIndex","item","id","slice","filter","loading","error","combineReducers","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","auth","persistReducer","authReducer","contacts","phonebookReducer","persistor","persistStore","ReactDOM","StrictMode","document","getElementById","registerRequest","registerSuccess","registerError","loginRequest","loginSuccess","loginError","logoutRequest","logoutSuccess","logoutError","getCurrentUserRequest","getCurrentUserSuccess","getCurrentUserError","initialUserState","email","user","authActions","token","setError","isLoggedIn","axios","defaults","baseURL","headers","common","Authorization","register","credentials","a","post","response","data","message","logIn","getState","persistedToken","get"],"mappings":"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","file":"static/js/main.54a6bb04.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navLink\":\"AuthNav_navLink__1nsH_\",\"activeNavLink\":\"AuthNav_activeNavLink__1pspS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navLink\":\"Navigation_navLink__3NBMf\",\"activeNavLink\":\"Navigation_activeNavLink__1-MfO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usermenuCont\":\"UserMenu_usermenuCont__1o-Y1\",\"avatarImg\":\"UserMenu_avatarImg__VQMAo\",\"userName\":\"UserMenu_userName__2lDwL\",\"logoutBtn\":\"UserMenu_logoutBtn__QJIG8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__1rbqQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ContainerPage\":\"Container_ContainerPage__d7Z75\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainContainer\":\"MainContainer_mainContainer__2OfSr\"};","import { createAction } from '@reduxjs/toolkit';\n\nexport const fetchContactsRequest = createAction(\n  'contacts/fetchContactsRequest',\n);\nexport const fetchContactsSuccess = createAction(\n  'contacts/fetchContactsSuccess',\n);\nexport const fetchContactsError = createAction('contacts/fetchContactsError');\n\nexport const addContactRequest = createAction('contacts/addContactRequest');\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\nexport const addContactError = createAction('contacts/addContactError');\n\nexport const deleteContactRequest = createAction(\n  'contacts/deleteContactRequest',\n);\nexport const deleteContactSuccess = createAction(\n  'contacts/deleteContactSuccess',\n);\nexport const deleteContactError = createAction('contacts/deleteContactError');\n\nexport const deleteContact = createAction('phonebook/Delete');\nexport const changeFilter = createAction('phonebook/changeFilter');\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { navLink, activeNavLink } from './AuthNav.module.css';\n\nconst AuthNav = () => {\n  return (\n    <div>\n      <NavLink\n        to=\"/register\"\n        exact\n        className={navLink}\n        activeClassName={activeNavLink}\n      >\n        Регистрация\n      </NavLink>\n      <NavLink\n        to=\"/login\"\n        exact\n        className={navLink}\n        activeClassName={activeNavLink}\n      >\n        Логин\n      </NavLink>\n    </div>\n  );\n};\n\nexport default AuthNav;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { navLink, activeNavLink } from './Navigation.module.css';\nimport { authSelectors } from '../../redux/auth';\n\nconst Navigation = () => {\n  const isAuthenticated = useSelector(authSelectors.getIsAuthenticated);\n\n  return (\n    <div>\n      <NavLink to=\"/\" exact className={navLink} activeClassName={activeNavLink}>\n        Главная\n      </NavLink>\n      {isAuthenticated && (\n        <NavLink\n          to=\"/contacts\"\n          exact\n          className={navLink}\n          activeClassName={activeNavLink}\n        >\n          Контакты\n        </NavLink>\n      )}\n    </div>\n  );\n};\n\nexport default Navigation;\n","export default __webpack_public_path__ + \"static/media/avatar.e2cd5f45.jpg\";","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  usermenuCont,\n  avatarImg,\n  userName,\n  logoutBtn,\n} from './UserMenu.module.css';\nimport { authSelectors, authOperations } from '../../redux/auth';\nimport defaultAvatar from '../../images/avatar.jpg';\n\nconst UserMenu = () => {\n  const name = useSelector(authSelectors.getUsername);\n  const dispatch = useDispatch();\n  const onLogOut = useCallback(() => {\n    dispatch(authOperations.logOut());\n  }, [dispatch]);\n\n  return (\n    <div className={usermenuCont}>\n      <img src={defaultAvatar} alt=\"\" width=\"32\" className={avatarImg} />\n      <span className={userName}>Welcome, {name}! </span>\n      <button type=\"button\" onClick={onLogOut} className={logoutBtn}></button>\n    </div>\n  );\n};\n\nexport default UserMenu;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport AuthNav from '../authNav/AuthNav';\nimport Navigation from '../navigation/Navigation';\nimport UserMenu from '../userMenu/UserMenu';\nimport { header } from './AppBar.module.css';\nimport { authSelectors } from '../../redux/auth';\n\nconst AppBar = () => {\n  const isAuthenticated = useSelector(authSelectors.getIsAuthenticated);\n  return (\n    <header className={header}>\n      <Navigation />\n      {isAuthenticated ? <UserMenu /> : <AuthNav />}\n    </header>\n  );\n};\n\nexport default AppBar;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { authSelectors } from '../redux/auth';\n\nconst PrivateRoute = ({ component: Component, redirectTo, ...routeProps }) => {\n  const isAuthenticated = useSelector(authSelectors.getIsAuthenticated);\n  return (\n    <Route\n      {...routeProps}\n      render={props =>\n        isAuthenticated ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to={redirectTo} />\n        )\n      }\n    />\n  );\n};\n\nexport default PrivateRoute;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect, useSelector } from 'react-redux';\nimport { authSelectors } from '../redux/auth';\n\nconst PublicRoute = ({ component: Component, redirectTo, ...routeProps }) => {\n  const isAuthenticated = useSelector(authSelectors.getIsAuthenticated);\n  return (\n    <Route\n      {...routeProps}\n      render={props =>\n        isAuthenticated && routeProps.restricted ? (\n          <Redirect to={redirectTo} />\n        ) : (\n          <Component {...props} />\n        )\n      }\n    />\n  );\n};\n\nexport default PublicRoute;\n","import React from 'react';\nimport { ContainerPage } from './Container.module.css';\n\nconst Container = ({ children }) => (\n  <div className={ContainerPage}>{children}</div>\n);\n\nexport default Container;\n","import React from 'react';\nimport { mainContainer } from './MainContainer.module.css';\n\nconst Container = ({ children }) => (\n  <div className={mainContainer}>{children}</div>\n);\n\nexport default Container;\n","import React, { Suspense, lazy, useEffect } from 'react';\nimport AppBar from './components/appBar/AppBar';\nimport { Switch } from 'react-router-dom';\nimport { authOperations } from './redux/auth';\nimport { useDispatch } from 'react-redux';\nimport PrivateRoute from './components/PrivateRoute';\nimport PublicRoute from './components/PublicRoute';\nimport Container from './components/Container/Container.jsx';\nimport MainContainer from './components/MainContainer/MainContainer.jsx';\n\nconst HomePage = lazy(() => import('./views/HomePage/HomePage.jsx'));\nconst Contacts = lazy(() => import('./views/Contacts/Contacts.jsx'));\nconst Register = lazy(() => import('./views/Register/Register.jsx'));\nconst Login = lazy(() => import('./views/Login/Login.jsx'));\n\nconst App = () => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(authOperations.getCurrentUser());\n  }, [dispatch]);\n\n  return (\n    <Container>\n      <AppBar />\n      <Suspense fallback={<p>Загружаем...</p>}>\n        <MainContainer>\n          <Switch>\n            <PublicRoute exact path=\"/\" component={HomePage} />\n            <PrivateRoute\n              path=\"/contacts\"\n              component={Contacts}\n              redirectTo=\"/login\"\n            />\n            <PublicRoute\n              path=\"/register\"\n              restricted\n              component={Register}\n              redirectTo=\"/contacts\"\n            />\n            <PublicRoute\n              path=\"/login\"\n              restricted\n              component={Login}\n              redirectTo=\"/contacts\"\n            />\n          </Switch>\n        </MainContainer>\n      </Suspense>\n    </Container>\n  );\n};\n\nexport default App;\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport {\n  addContactSuccess,\n  addContactRequest,\n  addContactError,\n  deleteContactSuccess,\n  deleteContactRequest,\n  deleteContactError,\n  changeFilter,\n  fetchContactsError,\n  fetchContactsRequest,\n  fetchContactsSuccess,\n} from './phonebook-actions';\n\nconst items = createReducer([], {\n  [fetchContactsSuccess]: (_, action) => action.payload,\n  [addContactSuccess]: (state, action) => [...state, action.payload],\n  [deleteContactSuccess]: (state, action) => {\n    const index = state.findIndex(item => item.id === action.payload);\n    return [...state.slice(0, index), ...state.slice(index + 1)];\n  },\n});\n\nconst filter = createReducer('', {\n  [changeFilter]: (_, action) => action.payload,\n});\n\nconst loading = createReducer(false, {\n  [fetchContactsRequest]: () => true,\n  [fetchContactsSuccess]: () => false,\n  [fetchContactsError]: () => false,\n  [addContactRequest]: () => true,\n  [addContactSuccess]: () => false,\n  [addContactError]: () => false,\n  [deleteContactRequest]: () => true,\n  [deleteContactSuccess]: () => false,\n  [deleteContactError]: () => false,\n});\n\nconst error = createReducer(null, {\n  [fetchContactsError]: (_, { payload }) => payload,\n  [fetchContactsRequest]: () => null,\n  [addContactRequest]: () => null,\n});\n\nexport default combineReducers({\n  items,\n  filter,\n  loading,\n  error,\n});\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport phonebookReducer from './phonebook/phonebook-reducer';\nimport { authReducer } from './auth';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nconst store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    contacts: phonebookReducer,\n  },\n  middleware,\n});\n\nconst persistor = persistStore(store);\n\nexport default { store, persistor };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from './redux/store';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store.store}>\n      <PersistGate loading={null} persistor={store.persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","import { createAction } from '@reduxjs/toolkit';\n\nconst registerRequest = createAction('auth/registerRequest');\nconst registerSuccess = createAction('auth/registerSuccess');\nconst registerError = createAction('auth/registerError');\n\nconst loginRequest = createAction('auth/loginRequest');\nconst loginSuccess = createAction('auth/loginSuccess');\nconst loginError = createAction('auth/loginError');\n\nconst logoutRequest = createAction('auth/logoutRequest');\nconst logoutSuccess = createAction('auth/logoutSuccess');\nconst logoutError = createAction('auth/logoutError');\n\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\n\nexport default {\n  registerRequest,\n  registerSuccess,\n  registerError,\n  logoutRequest,\n  logoutSuccess,\n  logoutError,\n  loginRequest,\n  loginSuccess,\n  loginError,\n  getCurrentUserRequest,\n  getCurrentUserSuccess,\n  getCurrentUserError,\n};\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport authActions from './auth-actions';\n\nconst initialUserState = { name: null, email: null };\n\nconst user = createReducer(initialUserState, {\n  [authActions.registerSuccess]: (_, { payload }) => payload.user,\n  [authActions.loginSuccess]: (_, { payload }) => payload.user,\n  [authActions.logoutSuccess]: () => initialUserState,\n  [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\n});\n\nconst token = createReducer(null, {\n  [authActions.registerSuccess]: (_, { payload }) => payload.token,\n  [authActions.loginSuccess]: (_, { payload }) => payload.token,\n  [authActions.logoutSuccess]: () => null,\n});\n\nconst setError = (_, { payload }) => payload;\n\nconst error = createReducer(null, {\n  [authActions.registerError]: setError,\n  [authActions.loginError]: setError,\n  [authActions.logoutError]: setError,\n  [authActions.getCurrentUserError]: setError,\n});\n\nconst isLoggedIn = createReducer(false, {\n  [authActions.registerSuccess]: () => true,\n  [authActions.loginSuccess]: () => true,\n  [authActions.getCurrentUserSuccess]: () => true,\n  [authActions.registerError]: () => false,\n  [authActions.loginError]: () => false,\n  [authActions.getCurrentUserError]: () => false,\n  [authActions.logoutSuccess]: () => false,\n});\n\nexport default combineReducers({\n  user,\n  isLoggedIn,\n  token,\n  error,\n});\n","import axios from 'axios';\nimport authActions from './auth-actions';\n\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nconst register = credentials => async dispatch => {\n  dispatch(authActions.registerRequest());\n  try {\n    const response = await axios.post('/users/signup', credentials);\n\n    token.set(response.data.token);\n\n    dispatch(authActions.registerSuccess(response.data));\n  } catch (error) {\n    dispatch(authActions.registerError(error.message));\n  }\n};\n\nconst logIn = credentials => async dispatch => {\n  dispatch(authActions.loginRequest());\n  try {\n    const response = await axios.post('/users/login', credentials);\n\n    token.set(response.data.token);\n\n    dispatch(authActions.loginSuccess(response.data));\n  } catch (error) {\n    dispatch(authActions.loginError(error.message));\n  }\n};\n\nconst logOut = () => async dispatch => {\n  dispatch(authActions.logoutRequest());\n  try {\n    await axios.post('/users/logout');\n    token.unset();\n    dispatch(authActions.logoutSuccess());\n  } catch (error) {\n    dispatch(authActions.logoutError(error.message));\n  }\n};\n\nconst getCurrentUser = () => async (dispatch, getState) => {\n  const {\n    auth: { token: persistedToken },\n  } = getState();\n  if (!persistedToken) {\n    return;\n  }\n\n  token.set(persistedToken);\n\n  dispatch(authActions.getCurrentUserRequest());\n  try {\n    const response = await axios.get('/users/current');\n    dispatch(authActions.getCurrentUserSuccess(response.data));\n  } catch (error) {\n    dispatch(authActions.getCurrentUserError(error.message));\n  }\n};\n\nexport default { register, logIn, logOut, getCurrentUser };\n","const getIsAuthenticated = state => state.auth.isLoggedIn;\n\nconst getUsername = state => state.auth.user.name;\n\nexport default { getIsAuthenticated, getUsername };\n"],"sourceRoot":""}